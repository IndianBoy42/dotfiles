snippet shbang "shebang" Ab
#!/usr/bin/env fish

endsnippet
snippet #! "shebang" Ab
#!/usr/bin/env fish

endsnippet

snippet mktmp "temporary file" A
${1:TMPFILE} = ``rv = "(mktemp " + path.replace(/^.*[\\\/\:]/, '').replace(/\..*/, '') + ")"``
endsnippet

snippet fn "function" A
function ${1:``rv =  path.replace(/^.*[\\\/\:]/, '').replace(/\..*/, '') ``}
    $0
end
endsnippet